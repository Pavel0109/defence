\section{Случайные числа. Псевдослучайные числа. }

\subsection{Случайные числа.}

Для работы многих криптографических примитивов необходимо уметь получать случайные числа:
\begin{itemize}


\item вектор инициализации для отдельных режимов сцепления блоков должен быть случайным числом (см. раздел 5.8);
\item для генерации пар открытых и закрытых ключей необходимы случайные числа (см. главу 9);
\item стойкость многих криптографических протоколов ключей (см. главу 10) основывается в том числе на выработке случайных чисел (англ. nonce), которые не может предугадать злоумышленник.

\end{itemize}
Генератором случайных чисел (англ. random number generator) мы будем называть процесс, результатом работы которого является случайная последовательность чисел, а именно такая, что зная произвольное число предыдущих чисел последовательности

(и способ их получения), даже теоретически нельзя предсказать следующее с вероятностью больше заданной. К таким случайным процессам можно отнести:

\begin{itemize}

\item результат работы счетчика элементарных частиц, работа с которым включена в лабораторный практикум по общей физике для студентов первого курса МФТИ;

\item время между нажатиями клавиш на клавиатуре персонального компьютера или расстояние, которое проходит <<мышь>> во время движения;

\item тепловой шум, измеряемый звуковой картой на входе аналогового микрофона, даже при отсутствии самого микрофона.

\end{itemize}

Хотя для всех этих процессов можно предсказать приблизительное значение (четное или нечетное), его последний бит будет оставаться достаточно случайным для практических целей. С учетом данной поправки их можно называть надежными или качественными генераторами случайных чисел.
Однако к генератору случайных чисел предъявляются и другие требования. Кроме уже указанного критерия качественности или надежности, генератор должен быть быстрым и дешевым. Быстрым – чтобы получить большой объем случайной информации за заданный период времени. И дешевым – чтобы его можно было бы использовать на практике. Количество случайной информации от перечисленных выше генераторов составляет не более десятков килобайт в секунду (для теплового шума) и значительно меньше, если мы будем требовать еще и равномерность распределения полученных случайных чисел.

С целью получения большего объема случайнои? информации используют специальные алгоритмы, которые называют генераторами псевдослучайных чисел (ГПСЧ). ГПСЧ – это детерминированныи? алгоритм, выходом которого является последовательность чисел, обладающая свойством случайности. Работу ГПСЧ можно описать следующей моделью. На подготовительном этапе оперативная память, используемая алгоритмом, заполняется начальным значением (англ. seed). Далее на каждой итерации своей работы ГПСЧ выдает на выход число, которое является функцией от состояния оперативной памяти алгоритма, и меняет содержимое своей памяти по определенным правилам. Содержимое оперативной памяти называется внутренним состоянием генератора.
Как и у любого алгоритма, у ГПСЧ есть определенный размер используемой оперативной памяти. Исходя из практических требований, предполагается, что размер оперативной памяти для ГПСЧ сильно ограничен. Так как память алгоритма ограничена, то ограничено и число различных внутренних состояний алгоритма. В силу того, что выдаваемые ГПСЧ числа являются функцией от внутреннего состояния, то любои? ГПСЧ, работающий с ограниченным размером оперативной памяти и не принимающий извне дополнительной информации, будет иметь период. Для генератора с памятью в n бит максимальный период, очевидно, равен $2^n$.  Качество детерминированного алгоритма, то есть то, насколь- ко полученная последовательность обладает свойством случайной, можно оценить с помощью тестов, таких как набор тестов NIST.